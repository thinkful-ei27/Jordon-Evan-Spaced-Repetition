{"ast":null,"code":"import _defineProperty from \"/Users/jordanheffernan/projects/portfolioProjects/Jordon-Evan-Spaced-Repetition/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport { SubmissionError } from 'redux-form';\nimport { API_BASE_URL } from '../config';\nimport { normalizeResponseErrors } from './utils';\nexport var registerUser = function registerUser(user) {\n  return function (dispatch) {\n    return fetch(\"\".concat(API_BASE_URL, \"/users\"), {\n      method: 'POST',\n      headers: {\n        'content-type': 'application/json'\n      },\n      body: JSON.stringify(user)\n    }).then(function (res) {\n      return normalizeResponseErrors(res);\n    }).then(function (res) {\n      return res.json();\n    }).catch(function (err) {\n      var reason = err.reason,\n          message = err.message,\n          location = err.location;\n\n      if (reason === 'ValidationError') {\n        // Convert ValidationErrors into SubmissionErrors for Redux Form\n        return Promise.reject(new SubmissionError(_defineProperty({}, location, message)));\n      }\n    });\n  };\n};","map":{"version":3,"sources":["/Users/jordanheffernan/projects/portfolioProjects/Jordon-Evan-Spaced-Repetition/client/src/actions/users.js"],"names":["SubmissionError","API_BASE_URL","normalizeResponseErrors","registerUser","user","dispatch","fetch","method","headers","body","JSON","stringify","then","res","json","catch","err","reason","message","location","Promise","reject"],"mappings":";AAAA,SAASA,eAAT,QAAgC,YAAhC;AAEA,SAASC,YAAT,QAA6B,WAA7B;AACA,SAASC,uBAAT,QAAwC,SAAxC;AAEA,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAAAC,IAAI;AAAA,SAAI,UAAAC,QAAQ,EAAI;AAC9C,WAAOC,KAAK,WAAIL,YAAJ,aAA0B;AACpCM,MAAAA,MAAM,EAAE,MAD4B;AAEpCC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT,OAF2B;AAKpCC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeP,IAAf;AAL8B,KAA1B,CAAL,CAOJQ,IAPI,CAOC,UAAAC,GAAG;AAAA,aAAIX,uBAAuB,CAACW,GAAD,CAA3B;AAAA,KAPJ,EAQJD,IARI,CAQC,UAAAC,GAAG;AAAA,aAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,KARJ,EASJC,KATI,CASE,UAAAC,GAAG,EAAI;AAAA,UACJC,MADI,GAC0BD,GAD1B,CACJC,MADI;AAAA,UACIC,OADJ,GAC0BF,GAD1B,CACIE,OADJ;AAAA,UACaC,QADb,GAC0BH,GAD1B,CACaG,QADb;;AAEZ,UAAIF,MAAM,KAAK,iBAAf,EAAkC;AAChC;AACA,eAAOG,OAAO,CAACC,MAAR,CACL,IAAIrB,eAAJ,qBACGmB,QADH,EACcD,OADd,EADK,CAAP;AAKD;AACF,KAnBI,CAAP;AAoBD,GArB+B;AAAA,CAAzB","sourcesContent":["import { SubmissionError } from 'redux-form';\n\nimport { API_BASE_URL } from '../config';\nimport { normalizeResponseErrors } from './utils';\n\nexport const registerUser = user => dispatch => {\n  return fetch(`${API_BASE_URL}/users`, {\n    method: 'POST',\n    headers: {\n      'content-type': 'application/json'\n    },\n    body: JSON.stringify(user)\n  })\n    .then(res => normalizeResponseErrors(res))\n    .then(res => res.json())\n    .catch(err => {\n      const { reason, message, location } = err;\n      if (reason === 'ValidationError') {\n        // Convert ValidationErrors into SubmissionErrors for Redux Form\n        return Promise.reject(\n          new SubmissionError({\n            [location]: message\n          })\n        );\n      }\n    });\n};\n"]},"metadata":{},"sourceType":"module"}