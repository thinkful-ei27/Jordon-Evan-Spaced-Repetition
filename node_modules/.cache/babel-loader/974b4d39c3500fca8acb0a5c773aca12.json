{"ast":null,"code":"import { API_BASE_URL } from '../config';\nimport { normalizeResponseErrors } from './utils';\nexport var FETCH_PROTECTED_DATA_SUCCESS = 'FETCH_PROTECTED_DATA_SUCCESS';\nexport var fetchProtectedDataSuccess = function fetchProtectedDataSuccess(data) {\n  return {\n    type: FETCH_PROTECTED_DATA_SUCCESS,\n    data: data\n  };\n};\nexport var FETCH_PROTECTED_DATA_ERROR = 'FETCH_PROTECTED_DATA_ERROR';\nexport var fetchProtectedDataError = function fetchProtectedDataError(error) {\n  return {\n    type: FETCH_PROTECTED_DATA_ERROR,\n    error: error\n  };\n};\nexport var fetchProtectedData = function fetchProtectedData() {\n  return function (dispatch, getState) {\n    var authToken = getState().auth.authToken;\n    return fetch(\"\".concat(API_BASE_URL, \"/protected\"), {\n      method: 'GET',\n      headers: {\n        // Provide our auth token as credentials\n        Authorization: \"Bearer \".concat(authToken)\n      }\n    }).then(function (res) {\n      return normalizeResponseErrors(res);\n    }).then(function (res) {\n      return res.json();\n    }).then(function (_ref) {\n      var data = _ref.data;\n      return dispatch(fetchProtectedDataSuccess(data));\n    }).catch(function (err) {\n      dispatch(fetchProtectedDataError(err));\n    });\n  };\n};","map":{"version":3,"sources":["/Users/evanguirino/thinkful/spaced-repetition-client/Jordon-Evan-Spaced-Repetition/src/actions/protected-data.js"],"names":["API_BASE_URL","normalizeResponseErrors","FETCH_PROTECTED_DATA_SUCCESS","fetchProtectedDataSuccess","data","type","FETCH_PROTECTED_DATA_ERROR","fetchProtectedDataError","error","fetchProtectedData","dispatch","getState","authToken","auth","fetch","method","headers","Authorization","then","res","json","catch","err"],"mappings":"AAAA,SAASA,YAAT,QAA6B,WAA7B;AACA,SAASC,uBAAT,QAAwC,SAAxC;AAEA,OAAO,IAAMC,4BAA4B,GAAG,8BAArC;AACP,OAAO,IAAMC,yBAAyB,GAAG,SAA5BA,yBAA4B,CAAAC,IAAI;AAAA,SAAK;AAChDC,IAAAA,IAAI,EAAEH,4BAD0C;AAEhDE,IAAAA,IAAI,EAAJA;AAFgD,GAAL;AAAA,CAAtC;AAKP,OAAO,IAAME,0BAA0B,GAAG,4BAAnC;AACP,OAAO,IAAMC,uBAAuB,GAAG,SAA1BA,uBAA0B,CAAAC,KAAK;AAAA,SAAK;AAC/CH,IAAAA,IAAI,EAAEC,0BADyC;AAE/CE,IAAAA,KAAK,EAALA;AAF+C,GAAL;AAAA,CAArC;AAKP,OAAO,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB;AAAA,SAAM,UAACC,QAAD,EAAWC,QAAX,EAAwB;AAC9D,QAAMC,SAAS,GAAGD,QAAQ,GAAGE,IAAX,CAAgBD,SAAlC;AACA,WAAOE,KAAK,WAAId,YAAJ,iBAA8B;AACxCe,MAAAA,MAAM,EAAE,KADgC;AAExCC,MAAAA,OAAO,EAAE;AACP;AACAC,QAAAA,aAAa,mBAAYL,SAAZ;AAFN;AAF+B,KAA9B,CAAL,CAOJM,IAPI,CAOC,UAAAC,GAAG;AAAA,aAAIlB,uBAAuB,CAACkB,GAAD,CAA3B;AAAA,KAPJ,EAQJD,IARI,CAQC,UAAAC,GAAG;AAAA,aAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,KARJ,EASJF,IATI,CASC;AAAA,UAAGd,IAAH,QAAGA,IAAH;AAAA,aAAcM,QAAQ,CAACP,yBAAyB,CAACC,IAAD,CAA1B,CAAtB;AAAA,KATD,EAUJiB,KAVI,CAUE,UAAAC,GAAG,EAAI;AACZZ,MAAAA,QAAQ,CAACH,uBAAuB,CAACe,GAAD,CAAxB,CAAR;AACD,KAZI,CAAP;AAaD,GAfiC;AAAA,CAA3B","sourcesContent":["import { API_BASE_URL } from '../config';\nimport { normalizeResponseErrors } from './utils';\n\nexport const FETCH_PROTECTED_DATA_SUCCESS = 'FETCH_PROTECTED_DATA_SUCCESS';\nexport const fetchProtectedDataSuccess = data => ({\n  type: FETCH_PROTECTED_DATA_SUCCESS,\n  data\n});\n\nexport const FETCH_PROTECTED_DATA_ERROR = 'FETCH_PROTECTED_DATA_ERROR';\nexport const fetchProtectedDataError = error => ({\n  type: FETCH_PROTECTED_DATA_ERROR,\n  error\n});\n\nexport const fetchProtectedData = () => (dispatch, getState) => {\n  const authToken = getState().auth.authToken;\n  return fetch(`${API_BASE_URL}/protected`, {\n    method: 'GET',\n    headers: {\n      // Provide our auth token as credentials\n      Authorization: `Bearer ${authToken}`\n    }\n  })\n    .then(res => normalizeResponseErrors(res))\n    .then(res => res.json())\n    .then(({ data }) => dispatch(fetchProtectedDataSuccess(data)))\n    .catch(err => {\n      dispatch(fetchProtectedDataError(err));\n    });\n};\n"]},"metadata":{},"sourceType":"module"}